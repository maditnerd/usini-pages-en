<!DOCTYPE html><html lang="en-us"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>TR-909 Drums using an esp8266 - Usini (en)</title><meta name="description" content="With Mozzi you can play recorded samples inside a sketch, but you can&hellip;"><meta name="robots" content="index, follow"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="https://en.usini.eu/tr909_drums_using_an_esp8266/"><link rel="amphtml" href="https://en.usini.eu/amp/tr909_drums_using_an_esp8266/"><link type="application/atom+xml" rel="alternate" href="https://en.usini.eu/feed.xml"><meta property="og:title" content="TR-909 Drums using an esp8266"><meta property="og:image" content="https://en.usini.eu/media/posts/13/tr909.jpg"><meta property="og:site_name" content="Usini"><meta property="og:description" content="With Mozzi you can play recorded samples inside a sketch, but you can&hellip;"><meta property="og:url" content="https://en.usini.eu/tr909_drums_using_an_esp8266/"><meta property="og:type" content="article"><meta name="twitter:card" content="summary"><meta name="twitter:site" content="@m4dnerd"><meta name="twitter:title" content="TR-909 Drums using an esp8266"><meta name="twitter:description" content="With Mozzi you can play recorded samples inside a sketch, but you can&hellip;"><meta name="twitter:image" content="https://en.usini.eu/media/posts/13/tr909.jpg"><link rel="shortcut icon" href="https://en.usini.eu/media/website/usini.png" type="image/png"><link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin><link href="https://fonts.googleapis.com/css?family=Heebo:400,500%7CPlayfair+Display:400" rel="stylesheet"><link rel="stylesheet" href="https://en.usini.eu/assets/css/style.css?v=706ef4ec0cd09b72d05d25c9b98bd69d"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://en.usini.eu/tr909_drums_using_an_esp8266/"},"headline":"TR-909 Drums using an esp8266","datePublished":"2019-05-31T15:31","dateModified":"2019-06-03T13:49","image":{"@type":"ImageObject","url":"https://en.usini.eu/media/posts/13/tr909.jpg","height":675,"width":900},"description":"With Mozzi you can play recorded samples inside a sketch, but you can&hellip;","author":{"@type":"Person","name":"Rémi Sarrailh"},"publisher":{"@type":"Organization","name":"Rémi Sarrailh","logo":{"@type":"ImageObject","url":"https://en.usini.eu/media/website/logo_final.png","height":103,"width":200}}}</script><script async src="https://en.usini.eu/assets/js/lazysizes.min.js?v=147e00ada76b65f2883e072a5f738644"></script></head><body><div class="container"><header><a class="logo" href="https://en.usini.eu/"><img src="https://en.usini.eu/media/website/logo_final.png" alt="Usini (en)"></a><div class="top"><nav class="navbar js-navbar"><button class="navbar__toggle js-navbar__toggle" aria-expanded="false">Menu</button><ul class="navbar__menu"><li><a href="https://twitter.com/m4dnerd" target="_self">🐤 Twitter</a></li><li><a href="https://www.youtube.com/user/maditnerd" target="_self">📼 Youtube</a></li><li><a href="https://www.hackster.io/labsud" target="_self">📗 Hackter.io</a></li><li><a href="https://soundcloud.com/remisarrailh" target="_self">🎵 Soundcloud</a></li><li><a href="https://en.usini.eu/web/guide/" target="_self">🛒Buy Guide</a></li></ul></nav></div></header><main><article class="post u-wrapper"><header class="hero"><p class="post__meta">By <a href="https://en.usini.eu/authors/remi-sarrailh/" rel="author" title="Rémi Sarrailh">Rémi Sarrailh</a> Published on <time datetime="2019-05-31T15:31">31 May 2019</time></p><h1 class="post__title">TR-909 Drums using an esp8266</h1></header><div class="post__featured-image post__image--normal"><img class="lazyload" src="https://en.usini.eu/media/posts/13/responsive/tr909-xs.jpg" data-srcset="https://en.usini.eu/media/posts/13/responsive/tr909-xs.jpg 300w ,https://en.usini.eu/media/posts/13/responsive/tr909-sm.jpg 480w ,https://en.usini.eu/media/posts/13/responsive/tr909-md.jpg 768w ,https://en.usini.eu/media/posts/13/responsive/tr909-lg.jpg 1024w ,https://en.usini.eu/media/posts/13/responsive/tr909-xl.jpg 1360w ,https://en.usini.eu/media/posts/13/responsive/tr909-2xl.jpg 1600w ,https://en.usini.eu/media/posts/13/responsive/tr909-sm2.jpg 375w" data-sizes="auto" width="900" height="675" alt=""></div><div class="post__entry"><p>With <a href="https://sensorium.github.io/Mozzi/">Mozzi </a>you can play recorded samples inside a sketch, <strong>but you can only store 90kb of data.</strong> (data are stored in variables (90kb) not the flash memory used by the sketchs (1mb) )<br><br>I read a tutorial which allow to do this, with the I2S interface. <br><a title="http://blog.dspsynth.eu/" class="anchor-3Z-8Bb anchorUnderlineOnHover-2ESHQB" href="http://blog.dspsynth.eu/" rel="noopener noreferrer" target="_blank" role="button" tabindex="0">http://blog.dspsynth.eu/</a></p><p>The provided example transform your ESP8266 as a drum sound generator with TR-99 roland samples.</p><p>Code here : <a title="http://www.dspsynth.eu/files/code/rtpMIDI909.ino" class="anchor-3Z-8Bb anchorUnderlineOnHover-2ESHQB" href="http://www.dspsynth.eu/files/code/rtpMIDI909.ino" rel="noopener noreferrer" target="_blank" role="button" tabindex="0">http://www.dspsynth.eu/files/code/rtpMIDI909.ino</a></p><div class="messageCozy-2JPAPA message-1PNnaP"><div class="contentCozy-3XX413 content-3dzVd8"><div class="containerCozy-336-Cz container-206Blv"> </div><div class="containerCozy-B4noqO container-1e22Ot"> </div></div></div><div class="messageCozy-2JPAPA message-1PNnaP"><div class="contentCozy-3XX413 content-3dzVd8"><div class="containerCozy-336-Cz container-206Blv"><div class="buttonContainer-KtQ8wc">You can get more info on I2S - on Page 14 of the ESP8266 official documentation<br><a title="https://www.espressif.com/sites/default/files/documentation/0a-esp8266ex_datasheet_en.pdf" class="anchor-3Z-8Bb anchorUnderlineOnHover-2ESHQB" href="https://www.espressif.com/sites/default/files/documentation/0a-esp8266ex_datasheet_en.pdf" rel="noopener noreferrer" target="_blank" role="button" tabindex="0">https://www.espressif.com/sites/default/files/documentation/0a-esp8266ex_datasheet_en.pdf</a></div><div class="buttonContainer-KtQ8wc"> </div><div class="buttonContainer-KtQ8wc"><code>ESP8266EX has one I2S data input interface and one I2S data output interface, and supports the linked list DMA. I2S interfaces are mainly used in applications such as data collection, processing, and transmission of audio data, as well as the input and output of serial data. For example, LED lights (WS2812 series) are supported.</code></div><div class="buttonContainer-KtQ8wc"> </div><div class="buttonContainer-KtQ8wc">When you plug a audio jack on ESP8266 (on RX), the sound will be noisy, you need a low pass filter.<br><figure class="post__image--center"><img class="lazyload" src="https://en.usini.eu/media/posts/13/responsive/pdm-lpf-xs.png" data-sizes="auto" data-srcset="https://en.usini.eu/media/posts/13/responsive/pdm-lpf-xs.png 300w ,https://en.usini.eu/media/posts/13/responsive/pdm-lpf-sm.png 480w ,https://en.usini.eu/media/posts/13/responsive/pdm-lpf-md.png 768w ,https://en.usini.eu/media/posts/13/responsive/pdm-lpf-lg.png 1024w" alt="" width="520" height="185"></figure></div><div class="buttonContainer-KtQ8wc">The code was meant to be used with Apple Midi (rtp-midi) which allow to use midi controller thought Wi-Fi).<br>On Windows, you need LoopMidi and rtp midi to make it work:</div><div class="buttonContainer-KtQ8wc"><a title="https://www.tobias-erichsen.de/software/rtpmidi.html" class="anchor-3Z-8Bb anchorUnderlineOnHover-2ESHQB" href="https://www.tobias-erichsen.de/software/rtpmidi.html" rel="noopener noreferrer" target="_blank" role="button" tabindex="0">https://www.tobias-erichsen.de/software/rtpmidi.html</a></div><div class="buttonContainer-KtQ8wc"> </div><div class="buttonContainer-KtQ8wc">rtp-midi should be able to automatically detect midi controller, but i had to manually enter the IP of my esp to make it works (in DIRECTORY IP:5004)</div><div class="buttonContainer-KtQ8wc"><figure class="post__image--center"><img class="lazyload" src="https://en.usini.eu/media/posts/13/responsive/rtpmidi-xs.png" data-sizes="auto" data-srcset="https://en.usini.eu/media/posts/13/responsive/rtpmidi-xs.png 300w ,https://en.usini.eu/media/posts/13/responsive/rtpmidi-sm.png 480w ,https://en.usini.eu/media/posts/13/responsive/rtpmidi-md.png 768w ,https://en.usini.eu/media/posts/13/responsive/rtpmidi-lg.png 1024w" width="621" height="413"></figure></div><div class="buttonContainer-KtQ8wc">After this, you can use it with any music production software, I used LMMS as it is free (as freedom) :-)</div><div class="buttonContainer-KtQ8wc"><figure class="post__image--center"><img class="lazyload" src="https://en.usini.eu/media/posts/13/responsive/lmms-xs.png" data-sizes="auto" data-srcset="https://en.usini.eu/media/posts/13/responsive/lmms-xs.png 300w ,https://en.usini.eu/media/posts/13/responsive/lmms-sm.png 480w ,https://en.usini.eu/media/posts/13/responsive/lmms-md.png 768w ,https://en.usini.eu/media/posts/13/responsive/lmms-lg.png 1024w" alt="" width="277" height="477"></figure></div><div class="buttonContainer-KtQ8wc">You have to </div><ul><li class="buttonContainer-KtQ8wc">Create a track with any instrument</li><li class="buttonContainer-KtQ8wc">Mute the instrument</li><li class="buttonContainer-KtQ8wc">Click on the piano icon</li><li class="buttonContainer-KtQ8wc">Enable Midi output, Canal 10</li><li class="buttonContainer-KtQ8wc">Choose the midi port (it has the name of your computer)</li></ul><div class="buttonContainer-KtQ8wc"> </div><div class="buttonContainer-KtQ8wc">I still have a static sound, no idea where it came from, but the sound is not bad.</div><div class="buttonContainer-KtQ8wc"><audio controls="controls"><source src="/media/files/tr909.mp3" type="audio/mp3"><source src="/media/files/tr909.ogg" type="audio/ogg"></audio> </div><div class="buttonContainer-KtQ8wc"> </div><div class="buttonContainer-KtQ8wc">Funny thing, since it used the I2S output which is on RX pin, during upload we can hear the sketch being upload.</div><div class="buttonContainer-KtQ8wc"><audio controls="controls"><source src="/media/files/upload.mp3" type="audio/mp3"><source src="/media/files/upload.ogg" type="audio/ogg"></audio> </div><div class="buttonContainer-KtQ8wc"> </div><div class="buttonContainer-KtQ8wc">Components<br><ul><li><a href="http://s.click.aliexpress.com/e/wAsXMHw">ESP8266 (Wemos D1 Mini Clone)</a></li><li><a href="http://s.click.aliexpress.com/e/bLEZha2M">Headphones Socket</a></li></ul></div><div class="buttonContainer-KtQ8wc"> </div></div></div></div></div><footer class="post__footer"><div class="post__last-updated">This article was updated on 3 June 2019</div><div class="post__footer__col"><ul class="post__tag"><li><a href="https://en.usini.eu/web/esp8266/">esp8266</a></li><li><a href="https://en.usini.eu/web/i2s/">i2s</a></li><li><a href="https://en.usini.eu/web/midi/">midi</a></li><li><a href="https://en.usini.eu/web/music/">music</a></li><li><a href="https://en.usini.eu/web/tr-909/">tr-909</a></li><li><a href="https://en.usini.eu/web/wifi/">wifi</a></li></ul><div class="post__share"><a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fen.usini.eu%2Ftr909_drums_using_an_esp8266%2F" class="js-share facebook" title="Share with Facebook" rel="nofollow"><svg class="icon"><use xlink:href="https://en.usini.eu/assets/svg/svg-map.svg#facebook"/></svg> </a><a href="https://twitter.com/share?url=https%3A%2F%2Fen.usini.eu%2Ftr909_drums_using_an_esp8266%2F&amp;via=https%3A%2F%2Ftwitter.com%2Fm4dnerd&amp;text=TR-909%20Drums%20using%20an%20esp8266" class="js-share twitter" title="Share with Twitter" rel="nofollow"><svg class="icon"><use xlink:href="https://en.usini.eu/assets/svg/svg-map.svg#twitter"/></svg> </a><a href="https://pinterest.com/pin/create/button/?url=https%3A%2F%2Fen.usini.eu%2Ftr909_drums_using_an_esp8266%2F&amp;media=https%3A%2F%2Fen.usini.eu%2Fmedia%2Fposts%2F13%2Ftr909.jpg&amp;description=TR-909%20Drums%20using%20an%20esp8266" class="js-share pinterest" title="[MISSING TRANSLATION] Share with Pinterest" rel="nofollow"><svg class="icon"><use xlink:href="https://en.usini.eu/assets/svg/svg-map.svg#pinterest"/></svg> </a><a href="https://mix.com/add?url=https%3A%2F%2Fen.usini.eu%2Ftr909_drums_using_an_esp8266%2F" class="js-share mix" title="Share with Mix" rel="nofollow"><svg class="icon"><use xlink:href="https://en.usini.eu/assets/svg/svg-map.svg#mix"/></svg> </a><a href="http://www.linkedin.com/shareArticle?url=https%3A%2F%2Fen.usini.eu%2Ftr909_drums_using_an_esp8266%2F&amp;title=TR-909%20Drums%20using%20an%20esp8266" class="js-share linkedin" title="Share with LinkedIn" rel="nofollow"><svg class="icon"><use xlink:href="https://en.usini.eu/assets/svg/svg-map.svg#linkedin"/></svg> </a><a href="https://buffer.com/add?text=TR-909%20Drums%20using%20an%20esp8266&amp;url=https%3A%2F%2Fen.usini.eu%2Ftr909_drums_using_an_esp8266%2F" class="js-share buffer" title="Share with Buffer" rel="nofollow"><svg class="icon"><use xlink:href="https://en.usini.eu/assets/svg/svg-map.svg#buffer"/></svg></a></div></div><nav class="post__nav"><div class="post__nav__prev">Previous Post<h5><a href="https://en.usini.eu/digital_microphone_on_esp32/" class="inverse" rel="prev">Digital Microphone on ESP32</a></h5></div><div class="post__nav__next">Next Post<h5><a href="https://en.usini.eu/create_a_xbox360_gamepad_with_an_arduino/" class="inverse" rel="next">Create a XBOX360 gamepad with an arduino</a></h5></div></nav><div class="post__bio"><img class="lazyload" data-src="https://en.usini.eu/media/website/xDI07NeE_400x400.jpg" alt="Rémi Sarrailh"><div><h3><a href="https://en.usini.eu/authors/remi-sarrailh/" class="inverse" title="Rémi Sarrailh">Rémi Sarrailh</a></h3></div></div><div class="post__related"><h3 class="u-h5">Related posts</h3><div class="post__related__wrap"><figure><a href="https://en.usini.eu/board-guide/"><img class="lazyload" src="https://en.usini.eu/media/posts/19/responsive/buy_guide-xs.jpg" data-srcset="https://en.usini.eu/media/posts/19/responsive/buy_guide-xs.jpg" data-expand="300" alt=""></a><figcaption><h4><a href="https://en.usini.eu/board-guide/" class="inverse">Board Guide</a></h4><time datetime="2019-06-09T14:02">9 June 2019</time></figcaption></figure><figure><a href="https://en.usini.eu/send-a-calendar-on-discord-using-node-red/"><img class="lazyload" src="https://en.usini.eu/media/posts/18/responsive/discord_ical-xs.jpg" data-srcset="https://en.usini.eu/media/posts/18/responsive/discord_ical-xs.jpg" data-expand="300" alt=""></a><figcaption><h4><a href="https://en.usini.eu/send-a-calendar-on-discord-using-node-red/" class="inverse">Send a calendar on Discord using node-red</a></h4><time datetime="2019-06-03T13:00">3 June 2019</time></figcaption></figure><figure><a href="https://en.usini.eu/color_sensor_tcs34725/"><img class="lazyload" src="https://en.usini.eu/media/posts/17/responsive/colorsensor-xs.jpg" data-srcset="https://en.usini.eu/media/posts/17/responsive/colorsensor-xs.jpg" data-expand="300" alt=""></a><figcaption><h4><a href="https://en.usini.eu/color_sensor_tcs34725/" class="inverse">Color sensor (TCS34725)</a></h4><time datetime="2019-05-31T18:52">31 May 2019</time></figcaption></figure></div></div></footer></article></main><footer class="footer"><div class="footer__copyright"><p>This website use <a href="https://getpublii.com/">Publii</a></p><p>All content (made by me) are under Creative Commons licence BY-NC</p></div><div class="footer__social"><a href="@m4dnerd" aria-label="Twitter"><svg class="icon"><use xlink:href="https://en.usini.eu/assets/svg/svg-map.svg#twitter"/></svg> </a><a href="https://www.youtube.com/user/maditnerd" aria-label="Youtube"><svg class="icon"><use xlink:href="https://en.usini.eu/assets/svg/svg-map.svg#youtube"/></svg></a></div></footer></div><script defer="defer" src="https://en.usini.eu/assets/js/jquery-3.2.1.slim.min.js?v=f307ecc7f6353949f03c06ffa70652a2"></script><script defer="defer" src="https://en.usini.eu/assets/js/scripts.min.js?v=16be857f09f55a0c76ea5e92e1f5f9d0"></script></body></html>